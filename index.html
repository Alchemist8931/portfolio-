<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Приглашение на свадьбу | Карина и Дмитрий</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300;1,400&family=Alex+Brush&family=Cormorant+Infant:ital,wght@0,300;0,400;1,300&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --bg: #faf8f5;
            --bg-deep: #f3efe8;
            --bg-warm: #f7f3ec;
            --fg: #4a453f;
            --fg-light: #9a948c;
            --accent: #a08060;
            --accent-deep: #7a5f45;
            --accent-rose: #c4a090;
            --line-karina: #c9a088;
            --line-dmitry: #8aa8c4;
            --gold: #b89555;
            --gold-light: #d4bc8c;
            --gold-shimmer: #e8d5a0;
            --card: rgba(255, 253, 250, 0.92);
            --border: rgba(160, 128, 96, 0.15);
            --shadow: rgba(122, 95, 69, 0.06);
            --shadow-deep: rgba(122, 95, 69, 0.12);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            background: var(--bg);
            color: var(--fg);
            overflow-x: hidden;
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
        }

        /* Ambient Background with depth */
        .ambient-bg {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 30% 20%, rgba(201, 160, 136, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 70% 80%, rgba(138, 168, 196, 0.06) 0%, transparent 50%),
                radial-gradient(ellipse 100% 80% at 50% 50%, rgba(184, 149, 85, 0.04) 0%, transparent 60%);
            animation: ambientShift 20s ease-in-out infinite;
        }

        @keyframes ambientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Floating Gold Dust */
        .gold-dust {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .dust-particle {
            position: absolute;
            background: var(--gold);
            border-radius: 50%;
            opacity: 0;
            filter: blur(0.5px);
            box-shadow: 0 0 4px rgba(184, 149, 85, 0.3);
        }

        /* Desktop Overlay */
        .desktop-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: linear-gradient(160deg, rgba(250,248,245,0.99) 0%, rgba(243,239,232,0.99) 100%);
            backdrop-filter: blur(50px);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 2rem;
        }

        @media (min-width: 768px) {
            .desktop-overlay {
                display: flex;
            }
            .mobile-content, .envelope-portal, .gold-dust, .ambient-bg {
                display: none !important;
            }
        }

        .desktop-phone-mockup {
            width: 160px;
            height: 280px;
            border: 2px solid var(--border);
            border-radius: 32px;
            margin-bottom: 3.5rem;
            position: relative;
            background: linear-gradient(180deg, var(--bg) 0%, var(--bg-deep) 100%);
            box-shadow: 
                0 40px 100px var(--shadow-deep),
                inset 0 0 40px rgba(255,255,255,0.9);
            animation: phoneFloat 5s ease-in-out infinite;
        }

        @keyframes phoneFloat {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-15px) rotate(2deg); }
        }

        .desktop-phone-mockup::before {
            content: '';
            position: absolute;
            top: 16px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 6px;
            background: var(--border);
            border-radius: 4px;
        }

        .desktop-phone-mockup::after {
            content: '';
            position: absolute;
            bottom: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            border: 1px solid var(--border);
            border-radius: 50%;
        }

        .phone-heart {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 50px;
            height: 50px;
            opacity: 0.6;
        }

        .phone-heart svg {
            width: 100%;
            height: 100%;
            fill: var(--accent-rose);
            animation: heartPulse 2s ease-in-out infinite;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .desktop-overlay h2 {
            font-family: 'Alex Brush', cursive;
            font-size: clamp(3rem, 7vw, 5rem);
            color: var(--accent);
            margin-bottom: 1.5rem;
            font-weight: 400;
            letter-spacing: 0.02em;
        }

        .desktop-overlay p {
            font-size: 1.1rem;
            color: var(--fg-light);
            max-width: 420px;
            line-height: 2;
            font-weight: 300;
            letter-spacing: 0.02em;
        }

        /* Envelope Portal - Cinematic Opening */
        .envelope-portal {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(180deg, var(--bg-warm) 0%, var(--bg-deep) 100%);
            perspective: 2500px;
            overflow: hidden;
        }

        .envelope-scene {
            position: relative;
            width: 88vw;
            max-width: 360px;
            transform-style: preserve-3d;
            animation: sceneEntrance 1.8s cubic-bezier(0.23, 1, 0.32, 1) forwards;
        }

        @keyframes sceneEntrance {
            0% {
                transform: translateZ(-600px) rotateX(25deg) rotateY(-5deg) scale(0.5);
                opacity: 0;
            }
            60% {
                opacity: 1;
            }
            100% {
                transform: translateZ(0) rotateX(0) rotateY(0) scale(1);
                opacity: 1;
            }
        }

        .envelope {
            position: relative;
            width: 100%;
            aspect-ratio: 1.35;
            transform-style: preserve-3d;
        }

        .envelope-shadow {
            position: absolute;
            bottom: -30px;
            left: 5%;
            right: 5%;
            height: 60px;
            background: radial-gradient(ellipse at center, rgba(0,0,0,0.12) 0%, transparent 70%);
            filter: blur(15px);
            animation: shadowPulse 4s ease-in-out infinite;
        }

        @keyframes shadowPulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.05); opacity: 0.6; }
        }

        .envelope-back {
            position: absolute;
            inset: 0;
            background: linear-gradient(175deg, #f5f1ea 0%, #ebe5db 40%, #ddd6c9 100%);
            border-radius: 12px;
            box-shadow: 
                0 50px 120px rgba(0,0,0,0.08),
                0 20px 50px rgba(0,0,0,0.04),
                inset 0 3px 0 rgba(255,255,255,0.95),
                inset 0 -5px 20px rgba(0,0,0,0.02);
            transform: translateZ(-20px);
        }

        .envelope-back::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23a08060' fill-opacity='0.015'%3E%3Cpath d='M50 50c0-13.807-11.193-25-25-25v25h25zm0 0c0 13.807 11.193 25 25 25V50H50z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            border-radius: 12px;
            opacity: 0.9;
        }

        .wax-seal {
            position: absolute;
            bottom: 16%;
            left: 50%;
            transform: translateX(-50%) translateZ(-15px);
            width: 58px;
            height: 58px;
            background: radial-gradient(circle at 30% 30%, #c89060 0%, #9a6840 45%, #6a4020 100%);
            border-radius: 50%;
            box-shadow: 
                0 6px 20px rgba(106, 64, 32, 0.45),
                inset 0 3px 6px rgba(255,255,255,0.35),
                inset 0 -3px 6px rgba(0,0,0,0.25);
            z-index: 30;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: sealGlow 3s ease-in-out infinite;
        }

        @keyframes sealGlow {
            0%, 100% { box-shadow: 0 6px 20px rgba(106, 64, 32, 0.45), inset 0 3px 6px rgba(255,255,255,0.35), inset 0 -3px 6px rgba(0,0,0,0.25); }
            50% { box-shadow: 0 6px 25px rgba(106, 64, 32, 0.55), inset 0 3px 6px rgba(255,255,255,0.35), inset 0 -3px 6px rgba(0,0,0,0.25), 0 0 30px rgba(184, 149, 85, 0.2); }
        }

        .wax-seal::before {
            content: '';
            width: 32px;
            height: 32px;
            border: 2px solid rgba(255,255,255,0.25);
            border-radius: 50%;
        }

        .wax-seal::after {
            content: 'K & D';
            position: absolute;
            font-family: 'Alex Brush', cursive;
            font-size: 13px;
            color: rgba(255,255,255,0.85);
            text-shadow: 0 1px 3px rgba(0,0,0,0.35);
            letter-spacing: 0.05em;
        }

        .envelope-inner {
            position: absolute;
            inset: 0;
            transform: translateZ(-10px);
        }

        .inner-flap {
            position: absolute;
            background: linear-gradient(180deg, #ebe5db 0%, #ddd6ca 100%);
        }

        .inner-flap-left {
            left: 0;
            top: 10%;
            width: 50%;
            height: 80%;
            clip-path: polygon(0 0, 100% 22%, 100% 78%, 0 100%);
            border-radius: 12px 0 0 12px;
        }

        .inner-flap-right {
            right: 0;
            top: 10%;
            width: 50%;
            height: 80%;
            clip-path: polygon(0 22%, 100% 0, 100% 100%, 0 78%);
            border-radius: 0 12px 12px 0;
        }

        .envelope-flap {
            position: absolute;
            top: -3%;
            left: -4%;
            right: -4%;
            height: 72%;
            background: linear-gradient(175deg, #f8f5f0 0%, #ebe5db 35%, #ddd6c9 100%);
            clip-path: polygon(0 0, 50% 55%, 100% 0, 100% 5%, 50% 60%, 0 5%);
            transform-origin: top center;
            z-index: 25;
            box-shadow: 0 10px 40px rgba(0,0,0,0.05);
            animation: flapOpen 2.5s cubic-bezier(0.68, -0.6, 0.32, 1.6) 3s forwards;
        }

        .envelope-flap::before {
            content: '';
            position: absolute;
            top: 5%;
            left: 10%;
            right: 10%;
            height: 48%;
            background: linear-gradient(175deg, transparent 0%, rgba(255,255,255,0.5) 50%, transparent 100%);
            clip-path: polygon(0 0, 50% 100%, 100% 0);
        }

        @keyframes flapOpen {
            0% { transform: rotateX(0deg) translateY(0); }
            20% { transform: rotateX(-25deg) translateY(-8px); }
            100% { transform: rotateX(-185deg) translateY(-25px); opacity: 0; pointer-events: none; }
        }

        .envelope-front {
            position: absolute;
            inset: 0;
            background: linear-gradient(175deg, #fefdfb 0%, #f8f5f0 30%, #ebe5db 100%);
            border-radius: 12px;
            transform-origin: bottom center;
            z-index: 20;
            box-shadow: 
                inset 0 3px 0 rgba(255,255,255,1),
                inset 0 -50px 100px rgba(0,0,0,0.015);
            animation: frontOpen 2.2s cubic-bezier(0.68, -0.6, 0.32, 1.6) 2.5s forwards;
        }

        .envelope-front::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 58%;
            background: linear-gradient(180deg, rgba(255,255,255,0.6) 0%, transparent 100%);
            border-radius: 12px 12px 0 0;
        }

        @keyframes frontOpen {
            0% { transform: rotateX(0deg); }
            30% { transform: rotateX(18deg); }
            100% { transform: rotateX(210deg); opacity: 0; pointer-events: none; }
        }

        .letter {
            position: absolute;
            top: 12%;
            left: 5%;
            right: 5%;
            bottom: 12%;
            background: linear-gradient(180deg, #fffefc 0%, #fdfbf7 50%, #f9f7f2 100%);
            border-radius: 8px;
            transform: translateY(60px) scale(0.92);
            opacity: 0;
            z-index: 15;
            box-shadow: 
                0 25px 80px rgba(0,0,0,0.12),
                inset 0 3px 0 rgba(255,255,255,1),
                inset 0 -3px 10px rgba(0,0,0,0.01);
            animation: letterRise 4s cubic-bezier(0.34, 1.56, 0.64, 1) 3.8s forwards;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem 1.8rem;
            text-align: center;
        }

        .letter::before {
            content: '';
            position: absolute;
            inset: 12px;
            border: 1px solid var(--border);
            border-radius: 4px;
            pointer-events: none;
        }

        .letter::after {
            content: '';
            position: absolute;
            top: 18px;
            left: 50%;
            transform: translateX(-50%);
            width: 35px;
            height: 35px;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 85 C28 65 15 52 15 38 15 24 26 14 39 14 46 14 50 18 50 18 50 18 54 14 61 14 74 14 85 24 85 38 85 52 72 65 50 85Z' fill='none' stroke='%23a08060' stroke-width='2.5' opacity='0.15'/%3E%3C/svg%3E") center/contain no-repeat;
            opacity: 0.7;
        }

        @keyframes letterRise {
            0% { 
                transform: translateY(60px) scale(0.92);
                opacity: 0;
            }
            15% {
                opacity: 1;
            }
            100% { 
                transform: translateY(-280vh) scale(1.05);
                opacity: 1;
            }
        }

        .letter-content {
            transform: translateY(35px);
            opacity: 0;
            animation: letterContentReveal 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) 4.5s forwards;
        }

        @keyframes letterContentReveal {
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .letter-ornament {
            width: 90px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin: 0 auto 1.8rem;
            position: relative;
        }

        .letter-ornament::before,
        .letter-ornament::after {
            content: '';
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 5px;
            height: 5px;
            background: var(--gold);
            border-radius: 50%;
        }

        .letter-ornament::before { left: 8px; }
        .letter-ornament::after { right: 8px; }

        .letter-label {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.55rem;
            letter-spacing: 0.6em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 1.2rem;
            font-weight: 300;
        }

        .letter-title {
            font-family: 'Cormorant Infant', serif;
            font-size: 1.15rem;
            color: var(--fg);
            margin-bottom: 0.3rem;
            font-weight: 300;
            font-style: italic;
            letter-spacing: 0.05em;
        }

        .letter-names {
            font-family: 'Alex Brush', cursive;
            font-size: 2.2rem;
            color: var(--accent);
            line-height: 1.2;
            letter-spacing: 0.02em;
        }

        .envelope-portal.fade-out {
            animation: portalFade 2s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes portalFade {
            0% { opacity: 1; }
            100% { 
                opacity: 0; 
                pointer-events: none; 
                visibility: hidden;
            }
        }

        /* Camera zoom effect */
        .envelope-portal.zoom-in {
            animation: cameraZoom 2.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes cameraZoom {
            0% { 
                transform: scale(1);
            }
            100% { 
                transform: scale(3);
                opacity: 0;
            }
        }

        /* Main Content */
        .mobile-content {
            min-height: 100vh;
            position: relative;
            z-index: 2;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1.5s cubic-bezier(0.4, 0, 0.2, 1), transform 1.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mobile-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2.5rem 2rem;
            position: relative;
        }

        .hero-frame {
            position: relative;
            padding: 3.5rem 3rem;
        }

        .hero-frame::before {
            content: '';
            position: absolute;
            inset: 0;
            border: 1px solid var(--border);
            pointer-events: none;
        }

        .hero-frame::after {
            content: '';
            position: absolute;
            inset: 10px;
            border: 1px solid var(--border);
            pointer-events: none;
            opacity: 0.4;
        }

        .corner {
            position: absolute;
            width: 24px;
            height: 24px;
            border: 1px solid var(--accent);
            transition: transform 0.4s ease;
        }

        .hero-frame:hover .corner-tl { transform: translate(-3px, -3px); }
        .hero-frame:hover .corner-tr { transform: translate(3px, -3px); }
        .hero-frame:hover .corner-bl { transform: translate(-3px, 3px); }
        .hero-frame:hover .corner-br { transform: translate(3px, 3px); }

        .corner-tl { top: -1px; left: -1px; border-right: none; border-bottom: none; }
        .corner-tr { top: -1px; right: -1px; border-left: none; border-bottom: none; }
        .corner-bl { bottom: -1px; left: -1px; border-right: none; border-top: none; }
        .corner-br { bottom: -1px; right: -1px; border-left: none; border-top: none; }

        .hero-ornament {
            width: 140px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin-bottom: 3rem;
            position: relative;
        }

        .hero-ornament::before,
        .hero-ornament::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 6px;
            height: 6px;
            background: var(--gold);
            border-radius: 50%;
            transform: translateY(-50%);
            box-shadow: 0 0 8px rgba(184, 149, 85, 0.4);
        }

        .hero-ornament::before { left: 22px; }
        .hero-ornament::after { right: 22px; }

        .hero-label {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.5rem;
            letter-spacing: 0.7em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 2.5rem;
            font-weight: 300;
        }

        .hero-title {
            font-family: 'Cormorant Infant', serif;
            font-size: clamp(1.4rem, 5vw, 1.8rem);
            color: var(--fg);
            margin-bottom: 0.4rem;
            font-weight: 300;
            font-style: italic;
            letter-spacing: 0.03em;
        }

        .hero-names {
            font-family: 'Alex Brush', cursive;
            font-size: clamp(3rem, 10vw, 4.5rem);
            color: var(--accent);
            line-height: 1.1;
            margin-bottom: 3rem;
            position: relative;
            display: inline-block;
        }

        .hero-names::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 70%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold-light), transparent);
        }

        .hero-date-box {
            padding: 1.2rem 3rem;
            border: 1px solid var(--border);
            position: relative;
            background: rgba(255,255,255,0.6);
            backdrop-filter: blur(10px);
        }

        .hero-date-box::before,
        .hero-date-box::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            border: 1px solid var(--accent);
        }

        .hero-date-box::before { top: -1px; left: -1px; border-right: none; border-bottom: none; }
        .hero-date-box::after { bottom: -1px; right: -1px; border-left: none; border-top: none; }

        .hero-date {
            font-size: 0.95rem;
            letter-spacing: 0.3em;
            color: var(--fg-light);
        }

        /* Scroll Indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 3.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.2rem;
            animation: scrollBounce 3s ease-in-out infinite;
        }

        @keyframes scrollBounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        .scroll-indicator span {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.5rem;
            letter-spacing: 0.35em;
            color: var(--accent);
            text-transform: uppercase;
        }

        .scroll-line {
            width: 1px;
            height: 60px;
            background: linear-gradient(180deg, var(--accent), transparent);
            position: relative;
            overflow: hidden;
        }

        .scroll-line::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 20px;
            background: var(--gold);
            animation: scrollDrop 2.2s ease-in-out infinite;
            box-shadow: 0 0 6px rgba(184, 149, 85, 0.5);
        }

        @keyframes scrollDrop {
            0% { transform: translateY(-20px); opacity: 0; }
            25% { opacity: 1; }
            100% { transform: translateY(60px); opacity: 0; }
        }

        /* Journey Section */
        .journey-section {
            min-height: 100vh;
            padding: 6rem 1.5rem 10rem;
            position: relative;
        }

        .section-header {
            text-align: center;
            margin-bottom: 6rem;
        }

        .journey-title {
            font-family: 'Alex Brush', cursive;
            font-size: clamp(2.2rem, 7vw, 3.2rem);
            color: var(--accent);
            margin-bottom: 1rem;
            font-weight: 400;
            letter-spacing: 0.02em;
        }

        .journey-subtitle {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.5rem;
            letter-spacing: 0.45em;
            text-transform: uppercase;
            color: var(--fg-light);
        }

        .journey-legend {
            display: flex;
            justify-content: center;
            gap: 3.5rem;
            margin-top: 2.5rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            position: relative;
        }

        .legend-dot::after {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            border: 1px solid currentColor;
            opacity: 0.3;
        }

        .legend-dot.karina {
            background: linear-gradient(145deg, var(--line-karina), #b88a70);
            color: var(--line-karina);
            box-shadow: 0 3px 10px rgba(201, 160, 136, 0.4);
        }

        .legend-dot.dmitry {
            background: linear-gradient(145deg, var(--line-dmitry), #7090b0);
            color: var(--line-dmitry);
            box-shadow: 0 3px 10px rgba(138, 168, 196, 0.4);
        }

        .legend-text {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.55rem;
            letter-spacing: 0.18em;
            color: var(--fg-light);
            text-transform: uppercase;
        }

        .journey-path {
            position: relative;
            width: 100%;
            padding-bottom: 220vh;
        }

        .path-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: visible;
        }

        .path-line {
            fill: none;
            stroke-width: 2.5;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-dasharray: 5000;
            stroke-dashoffset: 5000;
        }

        .path-line.karina {
            stroke: var(--line-karina);
            filter: drop-shadow(0 3px 6px rgba(201, 160, 136, 0.25));
        }

        .path-line.dmitry {
            stroke: var(--line-dmitry);
            filter: drop-shadow(0 3px 6px rgba(138, 168, 196, 0.25));
        }

        .path-line.united {
            stroke: var(--gold);
            stroke-width: 3;
            filter: drop-shadow(0 3px 8px rgba(184, 149, 85, 0.35));
        }

        .path-line.animated {
            animation: drawPath 5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        .path-line.united.animated {
            animation: drawPath 4s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        @keyframes drawPath {
            to { stroke-dashoffset: 0; }
        }

        /* Milestones */
        .milestone {
            position: absolute;
            transform: translate(-50%, -50%);
            text-align: center;
            opacity: 0;
            transition: all 1.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .milestone.visible {
            opacity: 1;
        }

        .milestone:nth-child(odd) {
            transform: translate(-50%, -50%) translateX(-8px) scale(0.95);
        }

        .milestone:nth-child(even) {
            transform: translate(-50%, -50%) translateX(8px) scale(0.95);
        }

        .milestone.visible:nth-child(odd),
        .milestone.visible:nth-child(even) {
            transform: translate(-50%, -50%) scale(1);
        }

        .milestone-dot {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            position: relative;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            cursor: pointer;
        }

        .milestone:hover .milestone-dot {
            transform: scale(1.25);
        }

        .milestone-dot::before {
            content: '';
            position: absolute;
            inset: -8px;
            border-radius: 50%;
            border: 1px solid currentColor;
            opacity: 0.25;
            animation: dotRipple 3.5s ease-out infinite;
        }

        @keyframes dotRipple {
            0% { transform: scale(0.7); opacity: 0.4; }
            100% { transform: scale(1.8); opacity: 0; }
        }

        .milestone-dot::after {
            content: '';
            position: absolute;
            inset: 4px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
        }

        .milestone.karina .milestone-dot {
            background: linear-gradient(145deg, var(--line-karina), #b88a70);
            color: var(--line-karina);
            box-shadow: 0 5px 20px rgba(201, 160, 136, 0.45);
        }

        .milestone.dmitry .milestone-dot {
            background: linear-gradient(145deg, var(--line-dmitry), #7090b0);
            color: var(--line-dmitry);
            box-shadow: 0 5px 20px rgba(138, 168, 196, 0.45);
        }

        .milestone.shared .milestone-dot {
            background: linear-gradient(145deg, var(--gold), #9a7535);
            color: var(--gold);
            width: 24px;
            height: 24px;
            box-shadow: 0 6px 25px rgba(184, 149, 85, 0.5);
        }

        .milestone-content {
            background: var(--card);
            padding: 1.2rem 1.4rem;
            border-radius: 6px;
            min-width: 120px;
            box-shadow: 0 12px 40px var(--shadow-deep);
            border: 1px solid var(--border);
            backdrop-filter: blur(15px);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }

        .milestone:hover .milestone-content {
            transform: translateY(-5px);
            box-shadow: 0 18px 50px var(--shadow-deep);
        }

        .milestone-year {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.5rem;
            letter-spacing: 0.22em;
            color: var(--fg-light);
            margin-bottom: 0.5rem;
        }

        .milestone-name {
            font-family: 'Alex Brush', cursive;
            font-size: 1.4rem;
            margin-bottom: 0.4rem;
        }

        .milestone.karina .milestone-name { color: var(--line-karina); }
        .milestone.dmitry .milestone-name { color: var(--line-dmitry); }
        .milestone.shared .milestone-name { color: var(--gold); }

        .milestone-text {
            font-size: 0.9rem;
            color: var(--fg);
            line-height: 1.55;
        }

        /* Meeting Point */
        .meeting-point {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            opacity: 0;
            transition: opacity 1.5s ease, transform 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .meeting-point.visible {
            opacity: 1;
        }

        .meeting-hearts {
            width: 70px;
            height: 70px;
            background: linear-gradient(145deg, var(--gold-shimmer), var(--gold));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.2rem;
            box-shadow: 
                0 10px 45px rgba(184, 149, 85, 0.45),
                inset 0 3px 6px rgba(255,255,255,0.45);
            animation: heartPulseMain 3s ease-in-out infinite;
            position: relative;
        }

        .meeting-hearts::before {
            content: '';
            position: absolute;
            inset: -12px;
            border-radius: 50%;
            border: 1.5px solid var(--gold);
            opacity: 0.35;
            animation: heartRippleMain 3s ease-out infinite;
        }

        .meeting-hearts::after {
            content: '';
            position: absolute;
            inset: -24px;
            border-radius: 50%;
            border: 1px solid var(--gold-light);
            opacity: 0.2;
            animation: heartRippleMain 3s ease-out 0.5s infinite;
        }

        @keyframes heartPulseMain {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        @keyframes heartRippleMain {
            0% { transform: scale(0.85); opacity: 0.5; }
            100% { transform: scale(1.4); opacity: 0; }
        }

        .meeting-hearts svg {
            width: 32px;
            height: 32px;
            fill: white;
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.15));
        }

        .meeting-label {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.5rem;
            letter-spacing: 0.28em;
            text-transform: uppercase;
            color: var(--fg-light);
            margin-bottom: 0.5rem;
        }

        .meeting-year {
            font-family: 'Alex Brush', cursive;
            font-size: 1.5rem;
            color: var(--gold);
        }

        /* Wedding Section */
        .wedding-section {
            min-height: 85vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 6rem 2rem;
            position: relative;
        }

        .wedding-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 100px;
            background: linear-gradient(180deg, transparent, var(--accent));
        }

        .wedding-frame {
            position: relative;
            padding: 3.5rem 3rem;
            text-align: center;
        }

        .wedding-frame::before {
            content: '';
            position: absolute;
            inset: 0;
            border: 1px solid var(--border);
        }

        .date-ornament {
            width: 120px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--gold), transparent);
            margin: 0 auto 2.2rem;
        }

        .date-label {
            font-family: 'Montserrat', sans-serif;
            font-size: 0.45rem;
            letter-spacing: 0.55em;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 1.5rem;
        }

        .date-value {
            font-family: 'Alex Brush', cursive;
            font-size: clamp(2.8rem, 9vw, 4rem);
            color: var(--accent);
            margin-bottom: 1.2rem;
            letter-spacing: 0.02em;
        }

        .date-location {
            font-size: 1.05rem;
            color: var(--fg-light);
            margin-bottom: 3.5rem;
            max-width: 280px;
            line-height: 1.7;
        }

        /* CTA Button */
        .cta-button {
            background: transparent;
            border: 1.5px solid var(--accent);
            color: var(--accent);
            padding: 1.3rem 4.5rem;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.05rem;
            letter-spacing: 0.3em;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            text-transform: lowercase;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(145deg, var(--accent), var(--accent-deep));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: -1;
        }

        .cta-button:hover {
            color: white;
            border-color: var(--accent);
            transform: translateY(-4px);
            box-shadow: 0 15px 45px rgba(160, 128, 96, 0.35);
        }

        .cta-button:hover::before {
            transform: scaleX(1);
        }

        .cta-button:active {
            transform: translateY(-2px);
        }

        /* Form Overlay */
        .form-overlay {
            position: fixed;
            inset: 0;
            background: rgba(250, 248, 245, 0.98);
            backdrop-filter: blur(40px);
            z-index: 2000;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .form-container {
            background: white;
            padding: 3.5rem 2.5rem;
            border-radius: 6px;
            max-width: 360px;
            width: 100%;
            transform: translateY(60px) scale(0.92);
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s;
            box-shadow: 0 40px 120px var(--shadow-deep);
            border: 1px solid var(--border);
            position: relative;
        }

        .form-overlay.active .form-container {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .form-close {
            position: absolute;
            top: 1.2rem;
            right: 1.2rem;
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--fg-light);
            cursor: pointer;
            transition: color 0.4s ease, transform 0.4s ease;
            line-height: 1;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .form-close:hover {
            color: var(--fg);
            transform: rotate(90deg);
        }

        .form-ornament {
            width: 70px;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--accent), transparent);
            margin: 0 auto 1.8rem;
        }

        .form-title {
            font-family: 'Alex Brush', cursive;
            font-size: 2.2rem;
            color: var(--accent);
            text-align: center;
            margin-bottom: 3rem;
            letter-spacing: 0.02em;
        }

        .form-group {
            margin-bottom: 1.8rem;
        }

        .form-label {
            display: block;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.45rem;
            letter-spacing: 0.22em;
            color: var(--fg-light);
            margin-bottom: 0.7rem;
            text-transform: uppercase;
        }

        .form-input {
            width: 100%;
            padding: 1.1rem 1.3rem;
            border: 1px solid var(--border);
            background: var(--bg);
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.05rem;
            color: var(--fg);
            transition: all 0.4s ease;
            border-radius: 3px;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent);
            background: white;
            box-shadow: 0 0 0 5px rgba(160, 128, 96, 0.1);
        }

        .form-input::placeholder {
            color: var(--accent);
            opacity: 0.45;
        }

        .form-radio-group {
            display: flex;
            gap: 3rem;
            margin-top: 1rem;
        }

        .form-radio {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
            font-size: 1.05rem;
            color: var(--fg);
            transition: color 0.4s ease;
        }

        .form-radio:hover {
            color: var(--accent);
        }

        .form-radio input {
            accent-color: var(--accent);
            width: 20px;
            height: 20px;
        }

        .form-submit {
            width: 100%;
            background: linear-gradient(145deg, var(--accent), var(--accent-deep));
            border: none;
            color: white;
            padding: 1.3rem;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.05rem;
            letter-spacing: 0.28em;
            cursor: pointer;
            margin-top: 2.5rem;
            transition: all 0.5s ease;
            text-transform: lowercase;
            border-radius: 3px;
        }

        .form-submit:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 45px rgba(160, 128, 96, 0.45);
        }

        .form-submit:active {
            transform: translateY(-1px);
        }

        /* Success Message */
        .success-message {
            position: fixed;
            inset: 0;
            z-index: 2500;
            display: flex;
            justify-content: center;
            align-items: center;
            background: rgba(250, 248, 245, 0.98);
            backdrop-filter: blur(30px);
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .success-message.active {
            opacity: 1;
        }

        .success-content {
            text-align: center;
            transform: scale(0.75);
            opacity: 0;
            transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1) 0.15s;
        }

        .success-message.active .success-content {
            transform: scale(1);
            opacity: 1;
        }

        .success-icon {
            width: 100px;
            height: 100px;
            background: linear-gradient(145deg, var(--gold-shimmer), var(--gold));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 2.5rem;
            box-shadow: 0 15px 50px rgba(184, 149, 85, 0.4);
        }

        .success-icon svg {
            width: 50px;
            height: 50px;
            stroke: white;
            stroke-width: 2.5;
            fill: none;
            stroke-dasharray: 70;
            stroke-dashoffset: 70;
        }

        .success-message.active .success-icon svg {
            animation: checkDraw 1s ease-out 0.6s forwards;
        }

        @keyframes checkDraw {
            to { stroke-dashoffset: 0; }
        }

        .success-title {
            font-family: 'Alex Brush', cursive;
            font-size: 2.8rem;
            color: var(--accent);
            margin-bottom: 1.2rem;
            letter-spacing: 0.02em;
        }

        .success-text {
            font-size: 1.1rem;
            color: var(--fg-light);
            max-width: 300px;
            line-height: 1.8;
        }

        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            inset: 0;
            z-index: 3000;
            pointer-events: none;
        }

        /* Reduced Motion */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus states for accessibility */
        button:focus-visible,
        input:focus-visible {
            outline: 2px solid var(--accent);
            outline-offset: 3px;
        }
    </style>
</head>
<body>
    <!-- Ambient Background -->
    <div class="ambient-bg"></div>

    <!-- Gold Dust Particles -->
    <div class="gold-dust" id="goldDust"></div>

    <!-- Desktop Overlay -->
    <div class="desktop-overlay">
        <div class="desktop-phone-mockup">
            <div class="phone-heart">
                <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
            </div>
        </div>
        <h2>Приглашение на свадьбу</h2>
        <p>Это приглашение создано для просмотра с мобильного устройства. Откройте его на смартфоне, чтобы испытать магию момента.</p>
    </div>

    <!-- Envelope Portal -->
    <div class="envelope-portal" id="envelope">
        <div class="envelope-scene">
            <div class="envelope">
                <div class="envelope-shadow"></div>
                <div class="envelope-back"></div>
                <div class="envelope-inner">
                    <div class="inner-flap inner-flap-left"></div>
                    <div class="inner-flap inner-flap-right"></div>
                </div>
                <div class="wax-seal"></div>
                <div class="letter">
                    <div class="letter-content">
                        <div class="letter-ornament"></div>
                        <span class="letter-label">приглашение</span>
                        <h1 class="letter-title">на свадьбу</h1>
                        <p class="letter-names">Карины и Дмитрия</p>
                    </div>
                </div>
                <div class="envelope-flap"></div>
                <div class="envelope-front"></div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="mobile-content" id="mobileContent">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-frame">
                <div class="corner corner-tl"></div>
                <div class="corner corner-tr"></div>
                <div class="corner corner-bl"></div>
                <div class="corner corner-br"></div>
                
                <div class="hero-ornament"></div>
                <span class="hero-label">приглашение на свадьбу</span>
                <h1 class="hero-title">Карины и</h1>
                <p class="hero-names">Дмитрия</p>
                
                <div class="hero-date-box">
                    <p class="hero-date">15 августа 2025</p>
                </div>
            </div>
            
            <div class="scroll-indicator">
                <span>листайте вниз</span>
                <div class="scroll-line"></div>
            </div>
        </section>

        <!-- Journey Section -->
        <section class="journey-section">
            <div class="section-header">
                <h2 class="journey-title">Наша история</h2>
                <p class="journey-subtitle">пути, которые привели нас друг к другу</p>
                <div class="journey-legend">
                    <div class="legend-item">
                        <div class="legend-dot karina"></div>
                        <span class="legend-text">Карина</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot dmitry"></div>
                        <span class="legend-text">Дмитрий</span>
                    </div>
                </div>
            </div>
            
            <div class="journey-path" id="journeyPath">
                <svg class="path-svg" id="pathSvg" viewBox="0 0 320 2600" preserveAspectRatio="xMidYMin meet">
                    <!-- Karina's path - flowing from left -->
                    <path id="karinaPath" class="path-line karina" d="M 55 40 
                        C 30 120, 80 190, 50 290 
                        C 20 390, 85 460, 45 560 
                        C 10 660, 80 730, 50 830 
                        C 20 930, 85 1000, 55 1100
                        C 25 1180, 90 1240, 60 1320
                        C 30 1380, 85 1420, 70 1480
                        Q 90 1520, 160 1550"/>
                    
                    <!-- Dmitry's path - flowing from right -->
                    <path id="dmitryPath" class="path-line dmitry" d="M 265 40 
                        C 290 120, 240 190, 270 290 
                        C 300 390, 235 460, 275 560 
                        C 310 660, 240 730, 270 830 
                        C 300 930, 235 1000, 265 1100
                        C 295 1180, 230 1240, 260 1320
                        C 290 1380, 235 1420, 250 1480
                        Q 230 1520, 160 1550"/>
                    
                    <!-- United path - golden thread -->
                    <path id="unitedPath" class="path-line united" d="M 160 1550 
                        C 160 1650, 160 1750, 160 1850
                        C 160 1970, 160 2090, 160 2210
                        C 160 2350, 160 2490, 160 2550"/>
                </svg>

                <!-- Karina's milestones -->
                <div class="milestone karina" style="left: 18%; top: 1.5%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-name">Карина</div>
                        <div class="milestone-year">1998</div>
                        <div class="milestone-text">Родилась в солнечной Тюмени</div>
                    </div>
                </div>

                <div class="milestone karina" style="left: 12%; top: 7%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2005</div>
                        <div class="milestone-text">Первый школьный звонок</div>
                    </div>
                </div>

                <div class="milestone karina" style="left: 16%; top: 14%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2013</div>
                        <div class="milestone-text">Первые путешествия с семьёй</div>
                    </div>
                </div>

                <div class="milestone karina" style="left: 12%; top: 21%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2016</div>
                        <div class="milestone-text">Поступление в университет</div>
                    </div>
                </div>

                <div class="milestone karina" style="left: 16%; top: 28%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2020</div>
                        <div class="milestone-text">Диплом и первая работа</div>
                    </div>
                </div>

                <div class="milestone karina" style="left: 20%; top: 35%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2021</div>
                        <div class="milestone-text">Начало карьеры мечты</div>
                    </div>
                </div>

                <!-- Dmitry's milestones -->
                <div class="milestone dmitry" style="left: 82%; top: 1.5%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-name">Дмитрий</div>
                        <div class="milestone-year">1996</div>
                        <div class="milestone-text">Родился в Санкт-Петербурге</div>
                    </div>
                </div>

                <div class="milestone dmitry" style="left: 88%; top: 7%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2004</div>
                        <div class="milestone-text">Первые спортивные награды</div>
                    </div>
                </div>

                <div class="milestone dmitry" style="left: 84%; top: 14%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2011</div>
                        <div class="milestone-text">Победа в городской олимпиаде</div>
                    </div>
                </div>

                <div class="milestone dmitry" style="left: 88%; top: 21%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2014</div>
                        <div class="milestone-text">Изучение программирования</div>
                    </div>
                </div>

                <div class="milestone dmitry" style="left: 84%; top: 28%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2018</div>
                        <div class="milestone-text">Первый серьёзный проект</div>
                    </div>
                </div>

                <div class="milestone dmitry" style="left: 80%; top: 35%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2021</div>
                        <div class="milestone-text">Переезд в Тюмень</div>
                    </div>
                </div>

                <!-- Meeting point -->
                <div class="meeting-point" id="meetingPoint" style="left: 50%; top: 46%;">
                    <div class="meeting-hearts">
                        <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                    </div>
                    <div class="meeting-label">Мы встретились</div>
                    <div class="meeting-year">2022</div>
                </div>

                <!-- Shared milestones -->
                <div class="milestone shared" style="left: 50%; top: 56%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2022</div>
                        <div class="milestone-text">Начали встречаться</div>
                    </div>
                </div>

                <div class="milestone shared" style="left: 50%; top: 66%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2023</div>
                        <div class="milestone-text">Начали жить вместе</div>
                    </div>
                </div>

                <div class="milestone shared" style="left: 50%; top: 76%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2024</div>
                        <div class="milestone-text">День помолвки</div>
                    </div>
                </div>

                <div class="milestone shared" style="left: 50%; top: 86%;">
                    <div class="milestone-dot"></div>
                    <div class="milestone-content">
                        <div class="milestone-year">2025</div>
                        <div class="milestone-text">Наша свадьба</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Wedding Section -->
        <section class="wedding-section">
            <div class="wedding-frame">
                <div class="date-ornament"></div>
                <span class="date-label">сохраните дату</span>
                <p class="date-value">15 августа 2025</p>
                <p class="date-location">Тюмень, ресторан «Белая дача»</p>
                <button class="cta-button" id="rsvpButton">я приду</button>
            </div>
        </section>
    </div>

    <!-- Form Overlay -->
    <div class="form-overlay" id="formOverlay">
        <div class="form-container">
            <button class="form-close" id="formClose" aria-label="Закрыть форму">&times;</button>
            <div class="form-ornament"></div>
            <h3 class="form-title">Подтвердите присутствие</h3>
            <form id="rsvpForm">
                <div class="form-group">
                    <label class="form-label">Ваше имя</label>
                    <input type="text" class="form-input" name="name" required placeholder="Как к вам обращаться?">
                </div>
                <div class="form-group">
                    <label class="form-label">Телефон</label>
                    <input type="tel" class="form-input" name="phone" placeholder="+7 (___) ___-__-__">
                </div>
                <div class="form-group">
                    <label class="form-label">Количество гостей</label>
                    <input type="number" class="form-input" name="guests" min="1" max="5" value="1">
                </div>
                <div class="form-group">
                    <label class="form-label">Будете с парой?</label>
                    <div class="form-radio-group">
                        <label class="form-radio">
                            <input type="radio" name="partner" value="yes" checked>
                            <span>Да</span>
                        </label>
                        <label class="form-radio">
                            <input type="radio" name="partner" value="no">
                            <span>Нет</span>
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Особые пожелания</label>
                    <input type="text" class="form-input" name="wishes" placeholder="Пищевые аллергии, предпочтения...">
                </div>
                <button type="submit" class="form-submit">отправить</button>
            </form>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
        <div class="success-content">
            <div class="success-icon">
                <svg viewBox="0 0 24 24">
                    <polyline points="20 6 9 17 4 12"></polyline>
                </svg>
            </div>
            <h3 class="success-title">Спасибо за ответ</h3>
            <p class="success-text">Мы с нетерпением ждём вас на нашем торжестве</p>
        </div>
    </div>

    <!-- Confetti Canvas -->
    <canvas id="confetti-canvas"></canvas>

    <script>
        // Initialize DOM elements
        const envelope = document.getElementById('envelope');
        const mobileContent = document.getElementById('mobileContent');
        const formOverlay = document.getElementById('formOverlay');
        const formClose = document.getElementById('formClose');
        const rsvpButton = document.getElementById('rsvpButton');
        const rsvpForm = document.getElementById('rsvpForm');
        const successMessage = document.getElementById('successMessage');
        const confettiCanvas = document.getElementById('confetti-canvas');
        const goldDust = document.getElementById('goldDust');
        
        // Canvas context initialization
        let ctx = null;
        if (confettiCanvas) {
            ctx = confettiCanvas.getContext('2d');
        }
        
        // Path and milestone elements
        const karinaPath = document.getElementById('karinaPath');
        const dmitryPath = document.getElementById('dmitryPath');
        const unitedPath = document.getElementById('unitedPath');
        const journeyPath = document.getElementById('journeyPath');
        const milestones = document.querySelectorAll('.milestone');
        const meetingPoint = document.getElementById('meetingPoint');
        
        // State variables
        let confettiParticles = [];
        let animationFrameId = null;
        let pathAnimated = false;
        let dustParticles = [];

        // Gold dust particle system
        function initGoldDust() {
            if (!goldDust) return;
            
            const particleCount = 40;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'dust-particle';
                
                const size = 2 + Math.random() * 3;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = (Math.random() * 100) + '%';
                
                goldDust.appendChild(particle);
                
                dustParticles.push({
                    el: particle,
                    x: Math.random() * 100,
                    y: Math.random() * 100,
                    speedY: 0.02 + Math.random() * 0.03,
                    speedX: (Math.random() - 0.5) * 0.02,
                    opacity: 0,
                    targetOpacity: 0.3 + Math.random() * 0.4,
                    phase: Math.random() * Math.PI * 2
                });
            }
            
            animateDust();
        }

        function animateDust() {
            dustParticles.forEach(p => {
                p.y -= p.speedY;
                p.x += p.speedX + Math.sin(p.phase) * 0.01;
                p.phase += 0.02;
                
                if (p.y < -5) {
                    p.y = 105;
                    p.x = Math.random() * 100;
                }
                
                // Fade in/out at edges
                if (p.y < 10) {
                    p.opacity = p.targetOpacity * (p.y / 10);
                } else if (p.y > 90) {
                    p.opacity = p.targetOpacity * ((100 - p.y) / 10);
                } else {
                    p.opacity = p.targetOpacity;
                }
                
                p.el.style.left = p.x + '%';
                p.el.style.top = p.y + '%';
                p.el.style.opacity = p.opacity;
            });
            
            requestAnimationFrame(animateDust);
        }

        initGoldDust();

        // Envelope animation timeline with camera zoom effect
        setTimeout(() => {
            if (envelope) {
                // Add zoom effect before fade
                envelope.classList.add('zoom-in');
                
                setTimeout(() => {
                    envelope.style.display = 'none';
                    if (mobileContent) {
                        mobileContent.classList.add('visible');
                    }
                }, 2000);
            }
        }, 7000);

        // Intersection Observer for path animation
        const pathObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting && !pathAnimated) {
                    pathAnimated = true;
                    
                    // Staggered path animations
                    setTimeout(() => {
                        if (karinaPath) karinaPath.classList.add('animated');
                    }, 300);
                    
                    setTimeout(() => {
                        if (dmitryPath) dmitryPath.classList.add('animated');
                    }, 700);
                    
                    setTimeout(() => {
                        if (unitedPath) unitedPath.classList.add('animated');
                    }, 3000);
                    
                    pathObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.05, rootMargin: '-20px' });

        if (journeyPath) {
            pathObserver.observe(journeyPath);
        }

        // Milestone visibility with staggered timing
        const milestoneObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    const index = Array.from(milestones).indexOf(entry.target);
                    const delay = index * 120;
                    
                    setTimeout(() => {
                        entry.target.classList.add('visible');
                    }, delay);
                }
            });
        }, { threshold: 0.25, rootMargin: '-30px' });

        milestones.forEach((milestone) => {
            milestoneObserver.observe(milestone);
        });

        if (meetingPoint) {
            milestoneObserver.observe(meetingPoint);
        }

        // Form handling
        if (rsvpButton) {
            rsvpButton.addEventListener('click', () => {
                if (formOverlay) formOverlay.classList.add('active');
            });
        }

        if (formClose) {
            formClose.addEventListener('click', () => {
                if (formOverlay) formOverlay.classList.remove('active');
            });
        }

        if (formOverlay) {
            formOverlay.addEventListener('click', (e) => {
                if (e.target === formOverlay) {
                    formOverlay.classList.remove('active');
                }
            });
        }

        // Form submission with confetti
        if (rsvpForm) {
            rsvpForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                if (formOverlay) formOverlay.classList.remove('active');
                
                setTimeout(() => {
                    if (successMessage) successMessage.classList.add('active');
                    startConfetti();
                }, 500);
                
                setTimeout(() => {
                    if (successMessage) successMessage.classList.remove('active');
                    confettiParticles = [];
                    if (ctx && confettiCanvas) {
                        ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
                    }
                }, 5000);
            });
        }

        // Canvas resize
        function resizeCanvas() {
            if (confettiCanvas) {
                confettiCanvas.width = window.innerWidth;
                confettiCanvas.height = window.innerHeight;
            }
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Confetti system
        function startConfetti() {
            confettiParticles = [];
            
            const colors = [
                '#c9a088', '#8aa8c4', '#b89555', '#d4bc8c', 
                '#c4b0a0', '#a0b4c4', '#f0e6d8', '#b8a090'
            ];
            
            const canvasW = confettiCanvas ? confettiCanvas.width : 300;
            const canvasH = confettiCanvas ? confettiCanvas.height : 600;
            
            for (let i = 0; i < 250; i++) {
                const size = Math.max(5, Math.random() * 14 + 5);
                confettiParticles.push({
                    x: Math.random() * canvasW,
                    y: -25 - Math.random() * 300,
                    size: size,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speedY: Math.max(2, 2.5 + Math.random() * 5),
                    speedX: (Math.random() - 0.5) * 6,
                    rotation: Math.random() * 360,
                    rotationSpeed: (Math.random() - 0.5) * 18,
                    type: Math.random() > 0.5 ? 'rect' : (Math.random() > 0.5 ? 'circle' : 'heart'),
                    wobble: Math.random() * Math.PI * 2,
                    wobbleSpeed: Math.random() * 0.12 + 0.03,
                    gravity: 0.02 + Math.random() * 0.02
                });
            }
            
            animateConfetti();
        }

        function animateConfetti() {
            if (!ctx || !confettiCanvas) return;
            
            const w = confettiCanvas.width;
            const h = confettiCanvas.height;
            
            ctx.clearRect(0, 0, w, h);
            
            confettiParticles.forEach((p) => {
                p.speedY += p.gravity;
                p.y += p.speedY;
                p.x += p.speedX + Math.sin(p.wobble) * 0.8;
                p.rotation += p.rotationSpeed;
                p.wobble += p.wobbleSpeed;
                
                // Calculate opacity based on position
                let alpha = 1;
                if (p.y > h * 0.7) {
                    alpha = Math.max(0, 1 - (p.y - h * 0.7) / (h * 0.3));
                }
                
                ctx.save();
                ctx.translate(p.x, p.y);
                ctx.rotate((p.rotation * Math.PI) / 180);
                ctx.globalAlpha = alpha;
                ctx.fillStyle = p.color;
                
                const safeSize = Math.max(2, p.size);
                
                if (p.type === 'circle') {
                    ctx.beginPath();
                    ctx.arc(0, 0, safeSize / 2, 0, Math.PI * 2);
                    ctx.fill();
                } else if (p.type === 'rect') {
                    ctx.fillRect(-safeSize / 2, -safeSize / 3, safeSize, safeSize / 1.5);
                } else {
                    // Heart shape
                    const s = safeSize / 12;
                    ctx.beginPath();
                    ctx.moveTo(0, s * 4);
                    ctx.bezierCurveTo(-s * 6, -s * 2, -s * 3, -s * 6, 0, -s * 2);
                    ctx.bezierCurveTo(s * 3, -s * 6, s * 6, -s * 2, 0, s * 4);
                    ctx.fill();
                }
                
                ctx.restore();
            });
            
            confettiParticles = confettiParticles.filter((p) => p.y < h + 100);
            
            if (confettiParticles.length > 0) {
                animationFrameId = requestAnimationFrame(animateConfetti);
            }
        }

        // Keyboard accessibility
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && formOverlay && formOverlay.classList.contains('active')) {
                formOverlay.classList.remove('active');
            }
        });

        // Cleanup
        window.addEventListener('beforeunload', () => {
            if (animationFrameId) {
                cancelAnimationFrame(animationFrameId);
            }
        });
    </script>
</body>
</html>
